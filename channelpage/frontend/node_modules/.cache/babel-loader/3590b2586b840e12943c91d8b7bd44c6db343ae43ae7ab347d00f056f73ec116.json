{"ast":null,"code":"import React,{useEffect,useState,useCallback}from\"react\";import'./channel_page.css';import logo from'./assets/logo2movfara2.png';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ChannelPage(){const[user,setUser]=useState(null);const navigate=useNavigate();// Funcția pentru a adresa login-ul și a obține datele utilizatorului\nconst fetchUserDetails=useCallback(async()=>{const token=localStorage.getItem(\"token\");if(!token){alert(\"You are not logged in!\");navigate(\"/login\");return;}try{const response=await fetch(\"http://localhost:5000/user-details\",{method:\"GET\",headers:{\"Authorization\":\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(response.ok){const data=await response.json();setUser(data);// Setează detaliile utilizatorului în stare\n}else{alert(\"Failed to fetch user details\");navigate(\"/login\");}}catch(error){console.error(\"Error fetching user details:\",error);alert(\"An error occurred while fetching user details.\");}},[navigate]);// Adaugă `navigate` ca dependență\n// Folosim useEffect pentru a încărca datele la montarea paginii\nuseEffect(()=>{fetchUserDetails();},[fetchUserDetails]);// Include `fetchUserDetails` în array-ul de dependențe\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"youtube-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"TUBIFY\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"menu-item\",children:\"Home\"}),/*#__PURE__*/_jsx(\"li\",{className:\"menu-item\",children:\"Search\"}),/*#__PURE__*/_jsx(\"li\",{className:\"menu-item\",children:\"Top Videos\"}),/*#__PURE__*/_jsx(\"li\",{className:\"menu-item\",children:\"Account\"}),/*#__PURE__*/_jsx(\"li\",{className:\"menu-item\",children:\"Settings\"})]})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"channel-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",children:user?user.username[0]:'U'}),/*#__PURE__*/_jsxs(\"div\",{className:\"channel-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user?user.username:'Loading...'}),/*#__PURE__*/_jsx(\"p\",{children:user?user.email:'Loading email...'}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Personalizează canalul'),children:\"Personalizeaz\\u0103 canalul\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Gestionează videoclipurile'),children:\"Gestioneaz\\u0103 videoclipurile\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"videos\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Videoclipuri\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://via.placeholder.com/300x150\",alt:\"Videoclip\",className:\"video-thumbnail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"COLEGIUL NA\\u021AIONAL \\\"ALEXANDRU VLAHU\\u021A\\u0102\\\" - PROMO\\u021AIA 2019-2020\"}),/*#__PURE__*/_jsx(\"p\",{children:\"901 vizion\\u0103ri \\xB7 acum 1 an\"})]})]})]})]})]});}export default ChannelPage;","map":{"version":3,"names":["React","useEffect","useState","useCallback","logo","useNavigate","jsx","_jsx","jsxs","_jsxs","ChannelPage","user","setUser","navigate","fetchUserDetails","token","localStorage","getItem","alert","response","fetch","method","headers","concat","ok","data","json","error","console","className","children","src","alt","username","email","onClick"],"sources":["C:/Users/Anemona/Desktop/react/channel page/frontend/src/channel_page.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport './channel_page.css';\nimport logo from './assets/logo2movfara2.png';\nimport { useNavigate } from 'react-router-dom';\n\nfunction ChannelPage() {\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n\n  // Funcția pentru a adresa login-ul și a obține datele utilizatorului\n  const fetchUserDetails = useCallback(async () => {\n    const token = localStorage.getItem(\"token\");\n    \n    if (!token) {\n      alert(\"You are not logged in!\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:5000/user-details\", {\n        method: \"GET\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUser(data); // Setează detaliile utilizatorului în stare\n      } else {\n        alert(\"Failed to fetch user details\");\n        navigate(\"/login\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching user details:\", error);\n      alert(\"An error occurred while fetching user details.\");\n    }\n  }, [navigate]); // Adaugă `navigate` ca dependență\n\n  // Folosim useEffect pentru a încărca datele la montarea paginii\n  useEffect(() => {\n    fetchUserDetails();\n  }, [fetchUserDetails]); // Include `fetchUserDetails` în array-ul de dependențe\n\n  return (\n    <div className=\"youtube-page\">\n      {/* Sidebar container including logo */}\n      <div className=\"sidebar-container\">\n        <div className=\"logo-container\">\n          <img src={logo} alt=\"Logo\" className=\"logo\" />\n          <span className=\"logo-text\">TUBIFY</span>\n        </div>\n        <div className=\"sidebar\">\n          <ul className=\"menu\">\n            <li className=\"menu-item\">Home</li>\n            <li className=\"menu-item\">Search</li>\n            <li className=\"menu-item\">Top Videos</li>\n            <li className=\"menu-item\">Account</li>\n            <li className=\"menu-item\">Settings</li>\n          </ul>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <main className=\"content\">\n        <div className=\"channel-info\">\n          {/* Afișăm datele utilizatorului */}\n          <div className=\"profile-pic\">{user ? user.username[0] : 'U'}</div>\n          <div className=\"channel-details\">\n            <h2>{user ? user.username : 'Loading...'}</h2>\n            <p>{user ? user.email : 'Loading email...'}</p>\n            <div className=\"buttons\">\n              <button onClick={() => alert('Personalizează canalul')}>\n                Personalizează canalul\n              </button>\n              <button onClick={() => alert('Gestionează videoclipurile')}>\n                Gestionează videoclipurile\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"videos\">\n          <h3>Videoclipuri</h3>\n          <div className=\"video-card\">\n            <img\n              src=\"https://via.placeholder.com/300x150\"\n              alt=\"Videoclip\"\n              className=\"video-thumbnail\"\n            />\n            <div className=\"video-info\">\n              <h4>\n                COLEGIUL NAȚIONAL \"ALEXANDRU VLAHUȚĂ\" - PROMOȚIA 2019-2020\n              </h4>\n              <p>901 vizionări · acum 1 an</p>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default ChannelPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,oBAAoB,CAC3B,MAAO,CAAAC,IAAI,KAAM,4BAA4B,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAW,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAS,gBAAgB,CAAGX,WAAW,CAAC,SAAY,CAC/C,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CAACF,KAAK,CAAE,CACVG,KAAK,CAAC,wBAAwB,CAAC,CAC/BL,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CAEA,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAE,CACjEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYR,KAAK,CAAE,CAClC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCd,OAAO,CAACa,IAAI,CAAC,CAAE;AACjB,CAAC,IAAM,CACLP,KAAK,CAAC,8BAA8B,CAAC,CACrCL,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAE,MAAOc,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDT,KAAK,CAAC,gDAAgD,CAAC,CACzD,CACF,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAAE;AAEhB;AACAZ,SAAS,CAAC,IAAM,CACda,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAAE;AAExB,mBACEL,KAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAE3BrB,KAAA,QAAKoB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrB,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvB,IAAA,QAAKwB,GAAG,CAAE3B,IAAK,CAAC4B,GAAG,CAAC,MAAM,CAACH,SAAS,CAAC,MAAM,CAAE,CAAC,cAC9CtB,IAAA,SAAMsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,EACtC,CAAC,cACNvB,IAAA,QAAKsB,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtBrB,KAAA,OAAIoB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAClBvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACnCvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACrCvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACzCvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACtCvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,EACrC,CAAC,CACF,CAAC,EACH,CAAC,cAGNrB,KAAA,SAAMoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBrB,KAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAE3BvB,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEnB,IAAI,CAAGA,IAAI,CAACsB,QAAQ,CAAC,CAAC,CAAC,CAAG,GAAG,CAAM,CAAC,cAClExB,KAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvB,IAAA,OAAAuB,QAAA,CAAKnB,IAAI,CAAGA,IAAI,CAACsB,QAAQ,CAAG,YAAY,CAAK,CAAC,cAC9C1B,IAAA,MAAAuB,QAAA,CAAInB,IAAI,CAAGA,IAAI,CAACuB,KAAK,CAAG,kBAAkB,CAAI,CAAC,cAC/CzB,KAAA,QAAKoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBvB,IAAA,WAAQ4B,OAAO,CAAEA,CAAA,GAAMjB,KAAK,CAAC,wBAAwB,CAAE,CAAAY,QAAA,CAAC,6BAExD,CAAQ,CAAC,cACTvB,IAAA,WAAQ4B,OAAO,CAAEA,CAAA,GAAMjB,KAAK,CAAC,4BAA4B,CAAE,CAAAY,QAAA,CAAC,iCAE5D,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,cAENrB,KAAA,QAAKoB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBvB,IAAA,OAAAuB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrB,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvB,IAAA,QACEwB,GAAG,CAAC,qCAAqC,CACzCC,GAAG,CAAC,WAAW,CACfH,SAAS,CAAC,iBAAiB,CAC5B,CAAC,cACFpB,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvB,IAAA,OAAAuB,QAAA,CAAI,kFAEJ,CAAI,CAAC,cACLvB,IAAA,MAAAuB,QAAA,CAAG,mCAAyB,CAAG,CAAC,EAC7B,CAAC,EACH,CAAC,EACH,CAAC,EACF,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAApB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}