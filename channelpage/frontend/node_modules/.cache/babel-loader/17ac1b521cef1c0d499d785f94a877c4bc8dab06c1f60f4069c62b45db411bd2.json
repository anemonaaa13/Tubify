{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./login_page.css';import logo from'./assets/logo2movfara2.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){const[isRegistering,setIsRegistering]=useState(false);const navigate=useNavigate();const toggleForm=()=>{setIsRegistering(prev=>!prev);};const handleSignIn=async event=>{event.preventDefault();const email=event.target.email.value;const password=event.target.password.value;try{const response=await fetch(\"http://localhost:5000/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data=await response.json();if(response.ok){localStorage.setItem(\"token\",data.token);// Salvăm token-ul JWT\nnavigate(\"/channel\");// Navigăm către pagina de canal\n}else{alert(data.message);// Afișăm mesajul de eroare\n}}catch(error){console.error(\"Error during login:\",error);alert(\"Eroare la autentificare.\");}};const handleRegister=async event=>{event.preventDefault();const username=event.target.username.value;const email=event.target.email.value;const password=event.target.password.value;try{const response=await fetch(\"http://localhost:5000/auth/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,email,password})});const data=await response.json();if(response.ok){alert(\"Cont creat cu succes! Autentificare automată.\");localStorage.setItem(\"token\",data.token);// Salvăm token-ul JWT\nnavigate(\"/channel\");// Navigăm către pagina de canal\n}else{alert(data.message);// Afișăm mesajul de eroare\n}}catch(error){console.error(\"Error during registration:\",error);alert(\"Eroare la înregistrare.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-card\",children:isRegistering?/*#__PURE__*/_jsxs(\"div\",{id:\"register-section\",className:\"form-section active\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\xCEnregistrare\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Creaz\\u0103 un cont nou\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"register-form\",onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Nume utilizator\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Alege o parol\\u0103\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-button\",children:\"Creaz\\u0103 cont\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleForm,className:\"link-button\",children:\"Ai deja un cont? Autentific\\u0103-te aici\"})})]}):/*#__PURE__*/_jsxs(\"div\",{id:\"login-section\",className:\"form-section active\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Autentificare\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Continu\\u0103 c\\u0103tre aplica\\u021Bie\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"login-form\",onSubmit:handleSignIn,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Introduce\\u021Bi parola\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Continu\\u0103\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleForm,className:\"link-button\",children:\"Nu ai un cont? \\xCEnregistreaz\\u0103-te aici\"})})]})})});}export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","logo","jsx","_jsx","jsxs","_jsxs","LoginPage","isRegistering","setIsRegistering","navigate","toggleForm","prev","handleSignIn","event","preventDefault","email","target","value","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","alert","message","error","console","handleRegister","username","className","children","id","src","alt","onSubmit","type","name","placeholder","required","onClick"],"sources":["C:/Users/Anemona/Desktop/react/channel page/frontend/src/login_page.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './login_page.css';\r\nimport logo from './assets/logo2movfara2.png';\r\n\r\nfunction LoginPage() {\r\n  const [isRegistering, setIsRegistering] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const toggleForm = () => {\r\n    setIsRegistering((prev) => !prev);\r\n  };\r\n\r\n  const handleSignIn = async (event) => {\r\n    event.preventDefault();\r\n    const email = event.target.email.value;\r\n    const password = event.target.password.value;\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem(\"token\", data.token); // Salvăm token-ul JWT\r\n        navigate(\"/channel\"); // Navigăm către pagina de canal\r\n      } else {\r\n        alert(data.message); // Afișăm mesajul de eroare\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during login:\", error);\r\n      alert(\"Eroare la autentificare.\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (event) => {\r\n    event.preventDefault();\r\n    const username = event.target.username.value;\r\n    const email = event.target.email.value;\r\n    const password = event.target.password.value;\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/auth/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ username, email, password }),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(\"Cont creat cu succes! Autentificare automată.\");\r\n        localStorage.setItem(\"token\", data.token); // Salvăm token-ul JWT\r\n        navigate(\"/channel\"); // Navigăm către pagina de canal\r\n      } else {\r\n        alert(data.message); // Afișăm mesajul de eroare\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during registration:\", error);\r\n      alert(\"Eroare la înregistrare.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-card\">\r\n        {isRegistering ? (\r\n          <div id=\"register-section\" className=\"form-section active\">\r\n            <img src={logo} alt=\"Logo\" className=\"logo\" />\r\n            <h2>Înregistrare</h2>\r\n            <p>Crează un cont nou</p>\r\n            <form id=\"register-form\" onSubmit={handleRegister}>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Nume utilizator\"\r\n                required\r\n              />\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Alege o parolă\"\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"register-button\">\r\n                Crează cont\r\n              </button>\r\n            </form>\r\n            <p>\r\n              <button onClick={toggleForm} className=\"link-button\">\r\n                Ai deja un cont? Autentifică-te aici\r\n              </button>\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div id=\"login-section\" className=\"form-section active\">\r\n            <img src={logo} alt=\"Logo\" className=\"logo\" />\r\n            <h2>Autentificare</h2>\r\n            <p>Continuă către aplicație</p>\r\n            <form id=\"login-form\" onSubmit={handleSignIn}>\r\n              <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Introduceți parola\"\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"login-button\">\r\n                Continuă\r\n              </button>\r\n            </form>\r\n            <p>\r\n              <button onClick={toggleForm} className=\"link-button\">\r\n                Nu ai un cont? Înregistrează-te aici\r\n              </button>\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}